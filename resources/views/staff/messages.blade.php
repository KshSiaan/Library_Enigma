<x-staff-layout>

    <div class="p-4">
        <!-- component -->
        <section class="relative min-h-screen flex bg-slate-50 overflow-hidden antialiased">
            <div class="w-full h-[80vh] max-w-6xl mx-auto px-4 md:px-6 overflow-y-scroll py-4">
                <div class="flex flex-col justify-center divide-y divide-slate-200 [&>*]:py-2">


                    <div class="w-full max-w-3xl">

                        <!-- Vertical Timeline #3 -->
                        <div
                            class="space-y-4 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:ml-[8.75rem] md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent">

                            <!-- Item #1 -->
                            <div class="relative">
                                <div class="md:flex items-center md:space-x-4 mb-3">
                                    <div class="flex items-center space-x-4 md:space-x-2 md:space-x-reverse">
                                        <!-- Icon -->
                                        <div
                                            class="flex items-center justify-center w-10 h-10 rounded-full bg-white shadow md:order-1">
                                            <svg class="fill-emerald-500" xmlns="http://www.w3.org/2000/svg"
                                                width="16" height="16">
                                                <path
                                                    d="M8 0a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8Zm0 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z" />
                                            </svg>
                                        </div>
                                        <!-- Date -->
                                        <time class="text-sm font-medium text-indigo-500 md:w-28">Apr 7, 2024</time>
                                    </div>
                                    <!-- Title -->
                                    <div class="text-slate-500 ml-14"><span class="text-slate-900 font-bold">Mark
                                            Mikrol</span> opened the request</div>
                                </div>
                                <!-- Card -->
                                <div
                                    class="bg-white p-4 rounded border border-slate-200 text-slate-500 shadow ml-14 md:ml-44">
                                    Various versions have evolved over the years, sometimes by accident, sometimes on
                                    purpose injected humour and the like.</div>
                            </div>

                            <!-- Item #2 -->
                            <div class="relative">
                                <div class="md:flex items-center md:space-x-4 mb-3">
                                    <div class="flex items-center space-x-4 md:space-x-2 md:space-x-reverse">
                                        <!-- Icon -->
                                        <div
                                            class="flex items-center justify-center w-10 h-10 rounded-full bg-white shadow md:order-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                                <path class="fill-slate-300"
                                                    d="M14.853 6.861C14.124 10.348 10.66 13 6.5 13c-.102 0-.201-.016-.302-.019C7.233 13.618 8.557 14 10 14c.51 0 1.003-.053 1.476-.143L14.2 15.9a.499.499 0 0 0 .8-.4v-3.515c.631-.712 1-1.566 1-2.485 0-.987-.429-1.897-1.147-2.639Z" />
                                                <path class="fill-slate-500"
                                                    d="M6.5 0C2.91 0 0 2.462 0 5.5c0 1.075.37 2.074 1 2.922V11.5a.5.5 0 0 0 .8.4l1.915-1.436c.845.34 1.787.536 2.785.536 3.59 0 6.5-2.462 6.5-5.5S10.09 0 6.5 0Z" />
                                            </svg>
                                        </div>
                                        <!-- Date -->
                                        <time class="text-sm font-medium text-indigo-500 md:w-28">Apr 7, 2024</time>
                                    </div>
                                    <!-- Title -->
                                    <div class="text-slate-500 ml-14"><span class="text-slate-900 font-bold">John
                                            Mirkovic</span> sent a Message!</div>
                                </div>
                                <!-- Card -->
                                <div
                                    class="bg-white p-4 rounded border border-slate-200 text-slate-500 shadow ml-14 md:ml-44">
                                    If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't
                                    anything embarrassing hidden in the middle of text.</div>
                            </div>

                            <!-- Item #3 -->
                            <div class="relative">
                                <div class="md:flex items-center md:space-x-4 mb-3">
                                    <div class="flex items-center space-x-4 md:space-x-2 md:space-x-reverse">
                                        <!-- Icon -->
                                        <div
                                            class="flex items-center justify-center w-10 h-10 rounded-full bg-white shadow md:order-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                                <path class="fill-slate-300"
                                                    d="M14.853 6.861C14.124 10.348 10.66 13 6.5 13c-.102 0-.201-.016-.302-.019C7.233 13.618 8.557 14 10 14c.51 0 1.003-.053 1.476-.143L14.2 15.9a.499.499 0 0 0 .8-.4v-3.515c.631-.712 1-1.566 1-2.485 0-.987-.429-1.897-1.147-2.639Z" />
                                                <path class="fill-slate-500"
                                                    d="M6.5 0C2.91 0 0 2.462 0 5.5c0 1.075.37 2.074 1 2.922V11.5a.5.5 0 0 0 .8.4l1.915-1.436c.845.34 1.787.536 2.785.536 3.59 0 6.5-2.462 6.5-5.5S10.09 0 6.5 0Z" />
                                            </svg>
                                        </div>
                                        <!-- Date -->
                                        <time class="text-sm font-medium text-indigo-500 md:w-28">Apr 8, 2024</time>
                                    </div>
                                    <!-- Title -->
                                    <div class="text-slate-500 ml-14"><span class="text-slate-900 font-bold">Vlad
                                            Patterson</span> sent a Message!</div>
                                </div>
                                <!-- Card -->
                                <div
                                    class="bg-white p-4 rounded border border-slate-200 text-slate-500 shadow ml-14 md:ml-44">
                                    Letraset sheets containing passages, and more recently with desktop publishing
                                    software like Aldus PageMaker including versions of Ipsum.</div>
                            </div>

                            <!-- Item #4 -->
                            <div class="relative">
                                <div class="md:flex items-center md:space-x-4 mb-3">
                                    <div class="flex items-center space-x-4 md:space-x-2 md:space-x-reverse">
                                        <!-- Icon -->
                                        <div
                                            class="flex items-center justify-center w-10 h-10 rounded-full bg-white shadow md:order-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                                <path class="fill-slate-300"
                                                    d="M14.853 6.861C14.124 10.348 10.66 13 6.5 13c-.102 0-.201-.016-.302-.019C7.233 13.618 8.557 14 10 14c.51 0 1.003-.053 1.476-.143L14.2 15.9a.499.499 0 0 0 .8-.4v-3.515c.631-.712 1-1.566 1-2.485 0-.987-.429-1.897-1.147-2.639Z" />
                                                <path class="fill-slate-500"
                                                    d="M6.5 0C2.91 0 0 2.462 0 5.5c0 1.075.37 2.074 1 2.922V11.5a.5.5 0 0 0 .8.4l1.915-1.436c.845.34 1.787.536 2.785.536 3.59 0 6.5-2.462 6.5-5.5S10.09 0 6.5 0Z" />
                                            </svg>
                                        </div>
                                        <!-- Date -->
                                        <time class="text-sm font-medium text-indigo-500 md:w-28">Apr 8, 2024</time>
                                    </div>
                                    <!-- Title -->
                                    <div class="text-slate-500 ml-14"><span class="text-slate-900 font-bold">Mila
                                            Capentino</span> sent an Image!</div>
                                </div>
                                <!-- Card -->
                                <div
                                    class="bg-white p-4 rounded border border-slate-200 text-slate-500 shadow ml-14 md:ml-44">
                                    It is a long established fact that a reader will be distracted by the readable
                                    content of a page when looking at its layout.</div>
                            </div>

                            <!-- Item #5 -->
                            <div class="relative">
                                <div class="md:flex items-center md:space-x-4 mb-3">
                                    <div class="flex items-center space-x-4 md:space-x-2 md:space-x-reverse">
                                        <!-- Icon -->
                                        <div
                                            class="flex items-center justify-center w-10 h-10 rounded-full bg-white shadow md:order-1">
                                            <svg class="fill-red-500" xmlns="http://www.w3.org/2000/svg" width="16"
                                                height="16">
                                                <path
                                                    d="M8 0a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8Zm0 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z" />
                                            </svg>
                                        </div>
                                        <!-- Date -->
                                        <time class="text-sm font-medium text-indigo-500 md:w-28">Apr 9, 2024</time>
                                    </div>
                                    <!-- Title -->
                                    <div class="text-slate-500 ml-14"><span class="text-slate-900 font-bold">Mark
                                            Mikrol</span> closed the request</div>
                                </div>
                                <!-- Card -->
                                <div
                                    class="bg-white p-4 rounded border border-slate-200 text-slate-500 shadow ml-14 md:ml-44">
                                    If you are going to use a passage of Lorem Ipsum!</div>
                            </div>

                        </div>
                        <!-- End: Vertical Timeline #3 -->

                    </div>

                </div>
            </div>
        </section>
    </div>


    <div class="fixed bottom-0 right-0 mb-4 mr-4">
        <button id="open-chat"
            class="bg-indigo-500 text-white p-3 rounded-full hover:bg-blue-600 transition duration-300 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                class="bi bi-chat-dots" viewBox="0 0 16 16">
                <path
                    d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2" />
                <path
                    d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2" />
            </svg>
        </button>
    </div>
    <div id="chat-container" class="hidden fixed bottom-24 right-4 w-96">
        <div class="bg-white shadow-md rounded-lg max-w-lg w-full">
            <div class="px-4 py-3 border-b bg-indigo-400 text-white rounded-t-lg flex justify-between items-center">
                <p class="text-lg font-semibold">User</p>
                <button id="close-chat"
                    class="text-gray-300 hover:text-gray-400 focus:outline-none focus:text-gray-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>
            <div id="chatbox" class="p-4 h-80 overflow-y-auto">
                <!-- Chat messages will be displayed here -->
                <div class="mb-4 text-right">
                    <p class="bg-indigo-400 text-white rounded-lg py-2 px-4 inline-block">hello</p>
                </div>
                <div class="mb-4">
                    <p class="bg-gray-200 text-gray-700 rounded-lg py-2 px-4 inline-block">This is a response from the
                        chatbot.</p>
                </div>
                <div class="mb-4 text-right">
                    <p class="bg-indigo-400 text-white rounded-lg py-2 px-4 inline-block">this example of chat</p>
                </div>
                <div class="mb-4">
                    <p class="bg-gray-200 text-gray-700 rounded-lg py-2 px-4 inline-block">This is a response.</p>
                </div>
                <div class="mb-4 text-right">
                    <p class="bg-indigo-400 text-white rounded-lg py-2 px-4 inline-block">Lorem ipsum dolor sit amet
                        consectetur adipisicing elit.</p>
                </div>
                <div class="mb-4">
                    <p class="bg-gray-200 text-gray-700 rounded-lg py-2 px-4 inline-block">This is another response.
                    </p>
                </div>
            </div>
            <div class="p-4 border-t flex">
                <input id="user-input" type="text" placeholder="Type a message"
                    class="w-full px-3 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-indigo-400">
                <button id="send-button"
                    class="bg-indigo-400 text-white px-4 py-2 rounded-r-md hover:bg-indigo-400 transition duration-300">Send</button>
            </div>
        </div>
    </div>
    <script>
        const chatbox = document.getElementById("chatbox");
        const chatContainer = document.getElementById("chat-container");
        const userInput = document.getElementById("user-input");
        const sendButton = document.getElementById("send-button");
        const openChatButton = document.getElementById("open-chat");
        const closeChatButton = document.getElementById("close-chat");

        let isChatboxOpen = false; // Set the initial state to open

        // Function to toggle the chatbox visibility
        function toggleChatbox() {
            chatContainer.classList.toggle("hidden");
            isChatboxOpen = !isChatboxOpen; // Toggle the state
        }

        // Add an event listener to the open chat button
        openChatButton.addEventListener("click", toggleChatbox);

        // Add an event listener to the close chat button
        closeChatButton.addEventListener("click", toggleChatbox);

        // Add an event listener to the send button
        sendButton.addEventListener("click", function() {
            const userMessage = userInput.value;
            if (userMessage.trim() !== "") {
                addUserMessage(userMessage);
                respondToUser(userMessage);
                userInput.value = "";
            }
        });

        userInput.addEventListener("keyup", function(event) {
            if (event.key === "Enter") {
                const userMessage = userInput.value;
                addUserMessage(userMessage);
                respondToUser(userMessage);
                userInput.value = "";
            }
        });

        function addUserMessage(message) {
            const messageElement = document.createElement("div");
            messageElement.classList.add("mb-4", "text-right");
            messageElement.innerHTML =
                `<p class="bg-indigo-400 text-white rounded-lg py-2 px-4 inline-block">${message}</p>`;
            chatbox.appendChild(messageElement);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        function addBotMessage(message) {
            const messageElement = document.createElement("div");
            messageElement.classList.add("mb-4");
            messageElement.innerHTML =
                `<p class="bg-gray-200 text-gray-700 rounded-lg py-2 px-4 inline-block">${message}</p>`;
            chatbox.appendChild(messageElement);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        function respondToUser(userMessage) {
            // Replace this with your chatbot logic
            setTimeout(() => {
                addBotMessage("This is a response from the chatbot.");
            }, 500);
        }

        // Automatically open the chatbox on page load
        toggleChatbox();
    </script>

</x-staff-layout>
